<Project>
    <PropertyGroup>
        <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
        <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
        <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(MSBuildProjectDirectory)' != '' and !$(MSBuildProjectDirectory.Contains('\UnitTest\')) ">
        <AssemblyName Condition="'$(AssemblyName)' == ''">DigitalWorkstation.$(MSBuildProjectName)</AssemblyName>
        <RootNamespace Condition="'$(RootNamespace)' == ''">DigitalWorkstation.$(MSBuildProjectName.Replace(" ", ""))</RootNamespace>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(MSBuildProjectDirectory)' != '' and $(MSBuildProjectDirectory.Contains('\UnitTest\')) ">
        <AssemblyName Condition="'$(AssemblyName)' == ''">DigitalWorkstation.UnitTest.$(MSBuildProjectName)</AssemblyName>
        <RootNamespace Condition="'$(RootNamespace)' == ''">DigitalWorkstation.UnitTest.$(MSBuildProjectName.Replace(" ", ""))</RootNamespace>
    </PropertyGroup>

    <PropertyGroup Condition="'$(OutputPath)' == '' and $(MSBuildProjectDirectory.Contains('\Core\'))">
        <OutputPath Condition=" '$(Configuration)' == 'Debug' ">$(SolutionDir)Output\Debug\Core\</OutputPath>
        <OutputPath Condition=" '$(Configuration)' == 'Release' ">$(SolutionDir)Output\Release\Core\</OutputPath>
    </PropertyGroup>

    <PropertyGroup Condition="'$(OutputPath)' == '' and $(MSBuildProjectDirectory.Contains('\Modules\'))">
        <OutputPath Condition=" '$(Configuration)' == 'Debug' ">$(SolutionDir)Output\Debug\Modules\</OutputPath>
        <OutputPath Condition=" '$(Configuration)' == 'Release' ">$(SolutionDir)Output\Release\Modules\</OutputPath>
    </PropertyGroup>

    <PropertyGroup Condition="'$(OutputPath)' == '' and $(MSBuildProjectDirectory.Contains('\UnitTest\'))">
        <OutputPath Condition=" '$(Configuration)' == 'Debug' ">$(SolutionDir)UnitTest\Debug\Output\</OutputPath>
        <OutputPath Condition=" '$(Configuration)' == 'Release' ">$(SolutionDir)UnitTest\Release\Output\</OutputPath>
    </PropertyGroup>

    <PropertyGroup Condition="'$(OutputPath)' == ''">
        <OutputPath Condition=" '$(Configuration)' == 'Debug' ">$(SolutionDir)Output\Debug\</OutputPath>
        <OutputPath Condition=" '$(Configuration)' == 'Release' ">$(SolutionDir)Output\Release\</OutputPath>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)'=='Release'">
        <DebugType>none</DebugType>
        <GenerateDependencyFile>false</GenerateDependencyFile>
        <GenerateRuntimeConfigurationFiles>false</GenerateRuntimeConfigurationFiles>
        <GenerateDocumentationFile>false</GenerateDocumentationFile>
    </PropertyGroup>

    <PropertyGroup>
        <!-- 定义 DLL 复制目标路径 -->
        <NuGetDllOutputPath Condition=" '$(Configuration)' == 'Debug' ">$(SolutionDir)Output\Debug\Libraries\</NuGetDllOutputPath>
        <NuGetDllOutputPath Condition=" '$(Configuration)' == 'Release' ">$(SolutionDir)Output\Release\Libraries\</NuGetDllOutputPath>
    </PropertyGroup>

</Project>